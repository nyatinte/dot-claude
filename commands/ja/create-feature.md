# Create Feature コマンド

---
allowed-tools: Write, Read, Edit, MultiEdit, Bash(git:*), TodoWrite, Grep, Glob, Bash(mkdir:*), Bash(touch:*)
denied-tools: Bash(git push:*), Bash(rm -rf:*)
description: 適切な構造、テスト、ドキュメントを含む新機能を作成
argument-hint: <機能名> [説明]
---

## コンテキスト

- 現在のブランチ: `!git branch --show-current`
- プロジェクトタイプ: `!ls package.json Cargo.toml go.mod pyproject.toml 2>/dev/null | head -1`
- テストフレームワーク: `!grep -E "(jest|mocha|pytest|testing)" package.json pyproject.toml go.mod 2>/dev/null | head -3`

## タスク

TDD原則とプロジェクトのベストプラクティスに従って新機能を作成します。

## 機能開発ワークフロー

### 1. **要件分析**
- 入力から機能名と説明を解析
- 機能のスコープと境界を特定
- 受け入れ基準をリストアップ
- エッジケースとエラーシナリオを検討

### 2. **アーキテクチャ計画**
- コンポーネント/モジュール構造を決定
- データフローと状態管理を計画
- 依存関係とインターフェースを特定
- スケーラビリティと保守性を考慮

### 3. **テスト駆動開発**
```
1. 失敗するテストを最初に作成
2. テストを通過する最小限のコードを実装
3. 品質向上のためリファクタリング
4. 機能が完成するまで繰り返す
```

### 4. **実装チェックリスト**
- [ ] 機能ブランチを作成: `feature/<機能名>`
- [ ] ファイル構造をセットアップ
- [ ] ユニットテストを作成
- [ ] コア機能を実装
- [ ] エラーハンドリングを追加
- [ ] 統合テストを作成
- [ ] ロギング/モニタリングを追加
- [ ] ドキュメントを更新
- [ ] 使用例を作成

### 5. **コード品質基準**
- リポジトリのコーディング規約に従う
- 型安全性を確保（TypeScript/Flow等）
- 複雑なロジックに意味のあるコメントを追加
- 関数を小さく焦点を絞って保つ
- 説明的な変数名を使用

### 6. **ドキュメント要件**
- 例を含むAPIドキュメント
- 必要に応じてREADMEを更新
- インラインコードコメント
- 破壊的変更がある場合は移行ガイド

## 出力構造

1. **機能計画サマリー**
   - 何を: 機能の説明
   - なぜ: ビジネス価値
   - どのように: 技術的アプローチ

2. **作成/変更されたファイル**
   - 目的と共にすべてのファイルをリスト
   - ディレクトリ構造を表示

3. **次のステップ**
   - 機能のテスト方法
   - 統合ポイント
   - デプロイの考慮事項

## 使用例

```
/create-feature user-authentication "JWTベースの認証システムを追加"
/create-feature dark-mode "システム全体のダークモードトグルを実装"
/create-feature data-export "ユーザーがCSV/JSON形式でデータをエクスポートできるように"
```

## ユーザー追加指示

$ARGUMENTS