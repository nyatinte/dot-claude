# Debug Error コマンド

---
allowed-tools: Read, Grep, Bash(git log:*), Bash(git diff:*), WebSearch, mcp__brave-search__brave_web_search, mcp__Context7__resolve-library-id, mcp__Context7__get-library-docs
denied-tools: Edit(*), MultiEdit(*)
description: 根本原因検出と解決策を含むインテリジェントなエラー分析
argument-hint: <エラーメッセージまたは説明>
---

## コンテキスト

- 最近のコミット: `!git log --oneline -5`
- 変更されたファイル: `!git diff --name-only HEAD~1`
- 現在のディレクトリ: `!pwd`
- ランタイム環境: `!node -v 2>/dev/null || python --version 2>/dev/null || ruby -v 2>/dev/null`

## タスク

実行可能な解決策を含む包括的なデバッグ支援を提供します。

## デバッグ方法論

### 1. **エラー分類**

エラーカテゴリを特定:
- 構文エラー
- ランタイム例外
- 型エラー
- ロジックエラー
- 設定の問題
- 依存関係の競合
- パフォーマンスの問題
- セキュリティの脆弱性

### 2. **コンテキスト収集**

関連情報を収集:
- 完全なスタックトレース
- 最近のコード変更
- 環境の詳細
- 関連する設定
- 依存関係のバージョン

### 3. **根本原因分析**

体系的なアプローチを適用:
1. **再現** - 条件を理解
2. **分離** - 最小限のケースを見つける
3. **トレース** - 実行パスを追跡
4. **特定** - 根本原因を特定

### 4. **解決戦略**

複数の解決パスを提供:
- **クイックフィックス** - 即座の回避策
- **適切な修正** - 正しい実装
- **予防** - 将来の発生を回避

## 出力フォーマット

```markdown
# エラー診断レポート

## 🔍 エラー概要
**エラータイプ**: [分類]
**重要度**: 🔴 Critical | 🟠 High | 🟡 Medium | 🟢 Low
**発生場所**: [ファイル:行番号]

## 📊 エラー分析

### エラーメッセージ
```
[完全なエラーメッセージ]
```

### 根本原因
[詳細な原因説明]

### 影響範囲
- 影響を受ける機能
- 関連するコンポーネント

## 🛠️ 解決方法

### 方法1: 即座の修正 (推奨)
```[言語]
// 修正前
[問題のあるコード]

// 修正後
[修正されたコード]
```

**説明**: [なぜこの修正が有効か]

### 方法2: 代替アプローチ
[別の解決策]

## 🛡️ 予防策

1. **コーディング規約**
   - [推奨される実践]

2. **テスト戦略**
   ```[言語]
   // このようなテストを追加
   [テストコード例]
   ```

3. **設定の見直し**
   - [設定ファイルの改善点]

## 📚 参考情報

### 関連ドキュメント
- [公式ドキュメントリンク]
- [Stack Overflowの類似問題]

### デバッグのヒント
- [このタイプのエラーのデバッグ方法]

### チェックリスト
- [ ] エラーが再現できることを確認
- [ ] 修正後にテストを実行
- [ ] 関連する箇所も確認
- [ ] ドキュメントを更新
```

## 高度な機能

### インテリジェントなエラーパターン認識
- 一般的なフレームワーク固有のエラー
- 言語固有の落とし穴
- プラットフォーム固有の問題

### コンテキスト認識ソリューション
- プロジェクト構造の分析
- コーディングスタイルの適応
- フレームワークのベストプラクティス

### 履歴から学習
- 類似の過去の問題をチェック
- 最近の変更をレビュー
- パターンを特定

## ユーザー追加指示

$ARGUMENTS